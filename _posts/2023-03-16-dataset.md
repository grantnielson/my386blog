---
layout: post
title:  "Tourney Time: A look at what Defines an NCAA Basketball Tournament Team"
author: Grant Nielson
description: Of the 355 eligible Division NCAA men's basketball teams, only 68 are invited to the Big Dance at the end of the year. I wanted to know- what are those team's stats like? I dove into the 2020-2021 season to find out.

image: assets/images/march_madness.jpeg
---

## Introduction

For as long as I can remember, mid march to early April has been a time of intrigue. This is when "March Madness" takes place, an annual event where 68 teams fly across the country to participate in a single-elimination basketball tournament to crown a national champion.

The reason it is so exciting is because it has an element of randomness that thousands of people try to predict every year, failing each and every time. The best teams are matched up with the worst teams to begin, which either results in a dominating performance from the better team, or an emotionally charged upset from the lower team. It's popular for people to fill out brackets to predict what will happen, many in contests with prizes and pride on the line, which makes it even more of an emotional investment. Most other sports playoffs have less teams, less upsets, and more predictable winners. Many argue that this tournament is not the best way to determine a champion, but it certainly is the most fun.


I have been curious about the characteristics of teams that are selected by the tournament committee as well as the teams that do well once they get to the tournament. I want to know- are teams with high assist rates (meaning they pass the ball well) more successful? How important is it for tourney success to play a hard schedule during the regular season? Is 3 point shooting percentage correlated with more wins and Tournament appearances? 

I will be answering these questions in a later post; I first needed to find, scrape, and clean my data so that these questions could be answered.

## Data Collection

I explored a few different options to gather my data to answer my questions. ESPN has interesting data, but it didn't have a collection that would let me get all the stats for all the teams from one place. I then tried an api website called [sportsradar](https://developer.sportradar.com/), but truthfully, it was confusing to me becuase I could not find a table that showed what the codes were for specific teams. I then went to a website I had used for fun a few times, [basketball-reference](https://www.basketball-reference.com/cbb/). This site is awesome becuase they cover all different sports and have a wide variety of statistics and accurate coverage for almost all teams. 

Once I landed on this site, I decided to use the 2020-2021 basketball season (one of my favorites, since I thought there were great teams and I went to the tournament in person). I decided to use the "basic stats," provided in a (roughly) 355x40 table. I thought about using the advanced stats; I oped for basic stats this time since analysis isn't my main goal in this project, but I may go back to the advanced stats later.

I was able to right click and select "inspect" so that I could figure out the div and id tags that I would need to use in my web scraping script to get the data I wanted. This is what it looked like:

![Figure](https://github.com/grantnielson/my386blog/raw/main/assets/images/table_+_inspect.jpeg)

Using what I learned in class, previous projects, and a bit of help from chat GPT, I was able to scrape the data as follows this:

```
from bs4 import BeautifulSoup
import requests
import pandas as pd
```

```
#combine a lot of steps: get the beautiful soup function called on the webpage
soup = BeautifulSoup(
    requests.get(
        "https://www.sports-reference.com/cbb/seasons/men/2021-school-stats.html", 
        headers={"User-Agent": "Chrome"}).content,
    'html.parser')
```  

```
# Find the table element by its class name
table = soup.find('table', {'class': 'per_match_toggle sortable stats_table', 'id': 'basic_school_stats'})

```


#combine a lot of steps: get the beautiful soup function called on the webpage

![Figure](https://github.com/grantnielson/my386blog/raw/main/assets/images/first_scrape.jpeg)

 



